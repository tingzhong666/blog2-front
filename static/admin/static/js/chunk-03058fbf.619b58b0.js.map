{"version":3,"sources":["webpack:///./src/views/editor.vue?782f","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./src/views/editor.vue?8c58","webpack:///src/views/editor.vue","webpack:///./src/views/editor.vue?7232","webpack:///./src/views/editor.vue"],"names":["$","$find","find","addToUnscopables","arrayMethodUsesToLength","FIND","SKIPS_HOLES","USES_TO_LENGTH","Array","target","proto","forced","callbackfn","this","arguments","length","undefined","toAbsoluteIndex","toInteger","toLength","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","ACCESSORS","0","1","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","splice","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","len","actualStart","argumentsLength","TypeError","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","slot","domProps","_s","title","_v","model","value","body","callback","$$v","$set","expression","_l","item","i","key","id","on","$event","tagRm","name","tagAdd","tagId","ref","imgAdd","submit","staticRenderFns","data","md","intro","tag","is_reward","is_private","is_top","img","tags","computed","$route","path","methods","bodyClear","push","index","add","set","component"],"mappings":"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","file":"static/js/chunk-03058fbf.619b58b0.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editor.vue?vue&type=style&index=0&id=b0d96bcc&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editor.vue?vue&type=style&index=0&id=b0d96bcc&lang=stylus&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND);\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',{staticClass:\"page\"},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('h2',{domProps:{\"textContent\":_vm._s(_vm.title)}})]),_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"item\"},[_c('p',[_vm._v(\"标题：\")]),_c('el-input',{attrs:{\"placeholder\":\"请输入内容\"},model:{value:(_vm.body.title),callback:function ($$v) {_vm.$set(_vm.body, \"title\", $$v)},expression:\"body.title\"}})],1),_c('div',{staticClass:\"item\"},[_c('p',[_vm._v(\"赞赏：\")]),_c('el-switch',{model:{value:(_vm.body.is_reward),callback:function ($$v) {_vm.$set(_vm.body, \"is_reward\", $$v)},expression:\"body.is_reward\"}})],1),_c('div',{staticClass:\"item\"},[_c('p',[_vm._v(\"私密：\")]),_c('el-switch',{model:{value:(_vm.body.is_private),callback:function ($$v) {_vm.$set(_vm.body, \"is_private\", $$v)},expression:\"body.is_private\"}})],1),_c('div',{staticClass:\"item\"},[_c('p',[_vm._v(\"置顶：\")]),_c('el-switch',{model:{value:(_vm.body.is_top),callback:function ($$v) {_vm.$set(_vm.body, \"is_top\", $$v)},expression:\"body.is_top\"}})],1),_c('div',{staticClass:\"item tag\"},[_c('p',[_vm._v(\"标签：\")]),_vm._l((_vm.body.tag),function(item,i){return _c('el-tag',{key:item.id,staticClass:\"tag\",attrs:{\"closable\":\"\",\"disable-transitions\":false},on:{\"close\":function($event){return _vm.tagRm(i)}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"添加\"},on:{\"change\":_vm.tagAdd},model:{value:(_vm.tagId),callback:function ($$v) {_vm.tagId=$$v},expression:\"tagId\"}},_vm._l((_vm.tags),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],2),_c('div',{staticClass:\"item\"},[_c('p',[_vm._v(\"简介：\")]),_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":3,\"placeholder\":\"请输入内容\",\"resize\":\"none\"},model:{value:(_vm.body.intro),callback:function ($$v) {_vm.$set(_vm.body, \"intro\", $$v)},expression:\"body.intro\"}})],1),_c('div',{staticClass:\"item content\"},[_c('p',[_vm._v(\"内容：\")]),_c('mavon-editor',{ref:\"editor\",staticClass:\"editor\",on:{\"imgAdd\":_vm.imgAdd},model:{value:(_vm.body.md),callback:function ($$v) {_vm.$set(_vm.body, \"md\", $$v)},expression:\"body.md\"}})],1),_c('div',{staticClass:\"item\"},[_c('el-button',{staticClass:\"submit\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\" 确定 \")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-card class=\"page\">\n    <div slot=\"header\">\n      <h2\n        v-text=\"title\"\n      />\n    </div>\n\n    <div class=\"main\">\n      <div class=\"item\">\n        <p>标题：</p>\n        <el-input\n          v-model=\"body.title\"\n          placeholder=\"请输入内容\"\n        />\n      </div>\n\n      <div class=\"item\">\n        <p>赞赏：</p>\n        <el-switch\n          v-model=\"body.is_reward\"\n        />\n      </div>\n\n      <div class=\"item\">\n        <p>私密：</p>\n        <el-switch\n          v-model=\"body.is_private\"\n        />\n      </div>\n\n      <div class=\"item\">\n        <p>置顶：</p>\n        <el-switch\n          v-model=\"body.is_top\"\n        />\n      </div>\n\n      <div class=\"item tag\">\n        <p>标签：</p>\n        <!-- 已添加 -->\n        <el-tag\n          v-for=\"(item, i) in body.tag\"\n          :key=\"item.id\"\n          closable\n          :disable-transitions=\"false\"\n          @close=\"tagRm(i)\"\n          class=\"tag\"\n        >\n          {{ item.name }}\n        </el-tag>\n\n        <!-- 搜索 then 添加 -->\n        <el-select\n          v-model=\"tagId\"\n          filterable\n          placeholder=\"添加\"\n          @change=\"tagAdd\"\n        >\n          <el-option\n            v-for=\"item in tags\"\n            :key=\"item.id\"\n            :label=\"item.name\"\n            :value=\"item.id\"\n          />\n        </el-select>\n      </div>\n\n      <div class=\"item\">\n        <p>简介：</p>\n        <el-input\n          type=\"textarea\"\n          :rows=\"3\"\n          placeholder=\"请输入内容\"\n          resize=\"none\"\n          v-model=\"body.intro\"\n        />\n      </div>\n\n      <!-- 编辑器 -->\n      <div class=\"item content\">\n        <p>内容：</p>\n        <mavon-editor\n          v-model=\"body.md\"\n          @imgAdd=\"imgAdd\"\n          ref=\"editor\"\n          class=\"editor\"\n        />\n      </div>\n\n      <div class=\"item\">\n        <el-button\n          type=\"primary\"\n          class=\"submit\"\n          @click=\"submit\"\n        >\n          确定\n        </el-button>\n      </div>\n    </div>\n  </el-card>\n</template>\n\n<script>\nimport api from '@/http/api'\n\nexport default {\n  data () {\n    return {\n      body: {\n        md: '',\n        title: '',\n        intro: '',\n        tag: [],\n        is_reward: false,\n        is_private: false,\n        is_top: false,\n        img: ''\n      },\n      // 预添加的标签id\n      tagId: null,\n      // 所有标签\n      tags: []\n    }\n  },\n  computed: {\n    title () {\n      if (this.$route.path === '/list/add') return '新增'\n      if (this.$route.path === '/list/edi') return '编辑'\n      return ''\n    }\n  },\n  methods: {\n    async imgAdd (i, file) {\n      const formdata = new FormData()\n      formdata.append('files', file)\n      const res = await api.upload(formdata)\n      this.$refs.editor.$img2Url(i, res.data.url[0])\n    },\n    bodyClear () {\n      this.body.md = ''\n      this.body.title = ''\n      this.body.intro = ''\n      this.body.img = ''\n      this.body.tag = []\n      this.body.is_reward = false\n      this.body.is_private = false\n      this.body.is_top = false\n    },\n    async tagsGet () {\n      const res = await api.tag.get()\n      this.tags = res.data\n    },\n    // 标签添加\n    tagAdd () {\n      const id = this.tagId\n      // 重复添加\n      if (this.body.tag.find(v => v.id === id) !== undefined) return\n\n      this.body.tag.push(this.tags.find(v => v.id === id))\n      // this.tagAddInput = false\n    },\n    // 标签删除\n    tagRm (index) {\n      this.body.tag.splice(index, 1)\n    },\n    // 提交\n    submit () {\n      if (this.$route.path === '/list/add') this.add()\n      if (this.$route.path === '/list/edi') this.set()\n    },\n    // 修改\n    async set () {\n      const res = await api.artical.post({\n        id: this.$route.query.id,\n        title: this.body.title,\n        intro: this.body.intro,\n        content: this.body.md,\n        img: this.body.img,\n        isReward: this.body.is_reward,\n        isPrivate: this.body.is_private,\n        isTop: this.body.is_top,\n        tagId: this.body.tag.map(v => v.id)\n      })\n\n      if (res.code === 1) this.$router.push('/list')\n    },\n    // 新增\n    async add () {\n      const res = await api.artical.add({\n        title: this.body.title,\n        intro: this.body.intro,\n        content: this.body.md,\n        img: this.body.img,\n        isReward: this.body.is_reward,\n        isPrivate: this.body.is_private,\n        isTop: this.body.is_top,\n        tagId: this.body.tag.map(v => v.id)\n      })\n\n      if (res.code === 1) this.$router.push('/list')\n    },\n    // 获取\n    async get () {\n      const res = await api.artical.get(this.$route.query.id)\n\n      this.body.md = res.data.content\n      this.body.title = res.data.title\n      this.body.intro = res.data.intro\n      this.body.img = res.data.img\n      this.body.tag = res.data.tag\n      this.body.is_reward = res.data.is_reward\n      this.body.is_private = res.data.is_private\n      this.body.is_top = res.data.is_top\n    }\n  },\n  async created () {\n    if (this.$route.path === '/list/edi') this.get()\n    this.tagsGet()\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.page\n  .main >\n    .item\n      p\n        margin 15px 0\n      &:first-child p\n        margin-top 0\n    .content\n      .editor\n        min-height 70vh\n        margin-top 15px\n    .tag\n      .tag\n        margin-right 10px\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./editor.vue?vue&type=template&id=b0d96bcc&scoped=true&\"\nimport script from \"./editor.vue?vue&type=script&lang=js&\"\nexport * from \"./editor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./editor.vue?vue&type=style&index=0&id=b0d96bcc&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b0d96bcc\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}